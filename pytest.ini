[pytest]
# Pytest конфигурация для MCP сервера синтаксис-помощника 1С

# Минимальная версия pytest
minversion = 7.0

# Директории с тестами
testpaths = tests

# Паттерн для обнаружения тестовых файлов
python_files = test_*.py

# Паттерн для тестовых классов
python_classes = Test*

# Паттерн для тестовых функций
python_functions = test_*

# Маркеры для категоризации тестов
markers =
    unit: Быстрые unit тесты с mock данными (< 5 сек)
    integration: Integration тесты с реальными компонентами (медленные)
    slow: Медленные тесты (> 10 сек), требуют полного парсинга/индексации
    elasticsearch: Тесты требующие подключения к Elasticsearch
    parser: Тесты парсера .hbk файлов
    indexer: Тесты индексации в Elasticsearch
    search: Тесты поисковой функциональности
    background: Тесты фоновых задач
    retry: Тесты retry механизмов

# Настройки asyncio для async тестов
asyncio_mode = auto

# Опции вывода
console_output_style = progress
addopts = 
    -ra
    --strict-markers
    --strict-config
    --showlocals

# Игнорировать предупреждения
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
